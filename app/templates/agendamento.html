<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <title>Agendamento</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/agendamento.css') }}">
    <!-- SweetAlert2 CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.min.css">
    <!-- SweetAlert2 JS -->
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <!-- jQuery primeiro -->
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>

    <!-- Popper.js (necessário para dropdowns e tooltips do Bootstrap) -->
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>

    <!-- Bootstrap JavaScript -->
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

    <!-- jQuery Mask Plugin -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.mask/1.14.16/jquery.mask.min.js"></script>



  </head>
  <body>
<nav class="faixa navbar navbar-expand-lg">
  <div class="container-fluid">
    <!-- Logo -->
    <a class="navbar-brand" href="home">
      <img src="{{ url_for('static', filename='img/logo_poly.png') }}" alt="Logo" height="40">
    </a>

    <!-- Botão de menu (hambúrguer) -->
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav"
      aria-controls="navbarNav" aria-expanded="false" aria-label="Alternar navegação">
      <span class="navbar-toggler-icon"></span>
    </button>


    <!-- Itens do menu -->
    <div class="collapse navbar-collapse justify-content-end" id="navbarNav">
      <ul class="navbar-nav text-right">
        <li class="nav-item text-right">
          <a href="home" class="nav-link">
            <button class="home justify-content-end">Home</button>
          </a>
        </li>
        <li class="nav-item text-right">
          <a href="agendamento" class="nav-link">
            <button class="agendamento justify-content-end">Agendar</button>
          </a>
        </li>
      </ul>
    </div>
  </div>
</nav>






  <div class="row justify-content-center align-items-end">
      <div class="form-group col-lg-12">
        <div class="form1">
          <div class="campos">
            <form action="/agendamento" id="agendar" method="POST" enctype="multipart/form-data">
              <h2 class="form-title">Agendar atendimento</h2>

              <div class="row">
                <div class="form-group col-md-6">
                  <label for="nome">Nome completo</label>
                  <input type="text" class="form-control" name="nome" id="nome" placeholder="Nome">
                </div>
                <div class="form-group col-md-6">
                  <label for="telefone">Telefone</label>
                  <input type="tel" class="form-control" id="telefone" name="telefone" placeholder="(11) 9 0000-0000">
                </div>
              </div>


              <!-- Email ocupa linha inteira -->
              <div class="row">
                <div class="form-group col-md-12">
                  <label for="email">Endereço de email</label>
                  <input type="email" class="form-control" id="email" name="email" placeholder="Seu email">
                </div>
              </div>

              <!-- Data responsiva -->
              <div class="row">
                <div class="form-group col-md-12">
                  <label for="data">Data</label>
                  <div class="input-group">
                    <input type="date" class="form-control" id="data" name="data" placeholder="dd/mm/yyyy">
                      <i class="glyphicon glyphicon-th"></i>
                    </span>
                  </div>
                </div>
              </div>

              <!-- Briefing -->
              <div class="row">
                <div class="col-12 d-flex flex-row flex-md-row align-items-start gap-2">
                  <button type="button" class="btn btn-primary2 col-6" id="abrirBriefing">Preencher Briefing</button>
                  <input type="file" class="form-control-file col-6" name="doc_briefing" id="doc_briefing">
                </div>
              </div>

              <!-- Termo de aceite -->
              <div class="termo_responsabilidade">  
                <div class="row mt-2">
                  <div class="form-check col-12">
                    <input type="checkbox" id="aceite_termo" name="aceite_termo" class="form-check-input" required>
                    <label for="aceite_termo" class="form-check-label">
                      Aceito a <a href="/politica-privacidade" target="_blank">Política de Privacidade</a>
                    </label>
                  </div>
                </div>
              </div>


              <!-- Botão enviar -->
            <div class="row mt-2">
              <div class="col-12 ">
                <button type="submit" class="btn btn-primary w-100">Enviar</button>
              </div>
            </div>
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>

      

  <!-- Formulário do Briefing (inicialmente oculto) STEP1-->

    <div id="briefingForm" class="briefing-container">
      <div  class="step active" id="step1">
      <h3>Empresa e Evento</h3>
      <div class="campos2">
        <div class="form-group">
        <label for="Endereço" style="margin-top: 5px;">Endereço</label>
        <input type="text" id="Endereco" class="Endereco" name="Endereco" placeholder="Bairro: Rua: Complemeto:">
        </div>

        <div class="razao_mome">
          <div class="form-group">
          <label for="Razão_social">Razão social</label>
          <input type="text" id="Razao_social" name="Razao_social" placeholder="Razão social">
          </div>

          <div class="form-group">
          <label for="Nome_Fantasia">Nome Fantasia</label>
          <input id="Nome_Fantasia" class="Nome_Fantasia" name="Nome_Fantasia">
          </div>

          <div class="form-group">
            <label for="Site">Site</label>
            <input type="text" id="Site" name="Site" placeholder="Site">
          </div>
        </div>



        <div class="form-group">
        <div class="input-group date" data-date-format="dd/mm/yyyy">
          <label for="data_entrega">Data de entrega do projeto</label>
          <input  type="date" class="form-control" id="data_entrega" name="data_entrega" placeholder="dd/mm/yyyy">
          <div class="input-group-addon" >
            <span class="glyphicon glyphicon-th"></span>
          </div>
        </div>
        </div>



        <div class="nome_telefone_resp">
          <div class="form-group">
          <label for="Nome_Responsavel">Nome do responsável</label>
          <input type="text" id="Nome_Responsavel" name="Nome_Responsavel" placeholder="Nome do responsável">
          </div>

          <div class="form-group">
            <label for="telefone">Telefone</label>
            <input type="tel" class="form-control" id="telefone_responsavel" name="telefone_responsavel" placeholder="(11) 9 0000-0000">
          </div>

          <div class="form-group">
            <label for="Email">Email</label>
            <input type="text" id="Email" name="Email" placeholder="Email">
            </div>
        </div>


        <div class="evento_local">
          <div class="form-group">
          <label for="Evento">Evento</label>
          <input type="text" id="Evento" name="Evento" placeholder="Evento">
          </div>

          <div class="form-group">
          <label for="Local">Local</label>
          <input type="text" id="Local" name="Local" placeholder="Local">
          </div>
        </div>

        <div class="area_stand">
          <div class="form-group">
          <label for="Stand">Stand Nº</label>
          <input type="text" id="Stand" name="Stand" placeholder="Stand">
          </div>
        
          <div class="form-group">
          <div class="input-group date" data-date-format="dd/mm/yyyy">
            <label for="data_evento">Data do evento</label>
            <input  type="date" class="form-control" id="data_evento" name="data_evento" placeholder="dd/mm/yyyy">
            <div class="input-group-addon" >
              <span class="glyphicon glyphicon-th"></span>
            </div>
          </div>
          </div>
      </div>

        <div class="form-group">
        <label for="Informações_adicionas">Informações adicionas</label>
        <input type="text" id="Informacoes_adicionas" name="Informacoes_adicionas" style="margin-bottom: 5px;" placeholder="Informações adicionas">
        </div>
      </div>
      <button type="button" class="btn-proximo" onclick="nextStep(2)">Próximo</button>
      <button type="button" class="btn-fechar" id="fecharBriefing">Fechar</button>
    </div>



    <!-- STEP 2-->
    <div  class="step" id="step2" style="display: none;">
      <h3> Informações do Stand</h3>
        <div class="campos2">
          <div class="valores_finais">
            <div class="form-group">
              <label for="Valor_verba">Verba disponível R$</label>
              <input type="text" id="Valor_verba" name="Valor_verba"  class="form-control money2" style="margin-left: 5px;" placeholder="Valor verba">
            </div>
      
            <div class="form-group">
              <label for="Contato">Contato</label>
              <input type="text" id="Contato" name="Contato"style="margin-left: 5px;" placeholder="(11) 9 0000-0000">
            </div>

            <div class="form-group">
              <div class="input-group date" data-date-format="dd/mm/yyyy">
                <label>Data atual</label>
                <input  type="date" class="form-control" id="data_atual" name="data_atual"style="margin-left: 5px;" placeholder="dd/mm/yyyy">
                <div class="input-group-addon" >
                  <span class="glyphicon glyphicon-th"></span>
                </div>
              </div>
            </div>
          </div>

          <h3 style="margin-left: 5px;">Espaço do stand</h3>
          <div class="Espaco_stand" name="Espaço stand">
            <div class="form-check form-check-inline">
              <input class="form-check-input" type="radio" name="Espaço stand" id="Ilha" value="Ilha">
              <label class="form-check-label" for="exampleRadios1">Ilha</label>
            </div>

            <div class="form-check form-check-inline">
              <input class="form-check-input" type="radio" name="Espaço stand" id="ponto_ilha" value="Ponto ilha">
              <label class="form-check-label" for="ponto_ilha">Ponto</label>
            </div>

            <div class="form-check form-check-inline">
              <input class="form-check-input" type="radio" name="Espaço stand" id="Esquina" value="Esquina">
              <label class="form-check-label" for="Esquina">Esquina</label>
            </div>

            <div class="form-check form-check-inline">
              <input class="form-check-input" type="radio" name="Espaço stand" id="Meio/Box" value="Meio/Box" >
              <label class="form-check-label" for="Meio/Box">Meio/Box</label>
            </div>

            <div class="form-check form-check-inline">
              <input class="form-check-input" type="radio" name="Espaço stand" id="Passante" value="Passante">
              <label class="form-check-label" for="Passante">Passante</label>
            </div>
          </div>

          <h3 style="margin-left: 5px;">Medidas</h3>
          <div class="medidas_stand" name="medidas_stand">

            <div class="form-group">
            <label for="Frente"></label>
            <input type="text" id="medida_Frente" name="medida_Frente" placeholder="Frente">
            </div>

            <div class="form-group">
            <label for="Fundo"></label>
            <input type="text" id="medida_Fundo" name="medida_Fundo" placeholder="Fundo">
            </div>

            <div class="form-group">
            <label for="Area_total"></label>
            <input type="text" id="Area_total" name="Area_total" placeholder="Área total">
            </div>
          </div>


          <h3 style="margin-left: 5px;">Estilo da construção</h3>
          <div class="Estilo_construcao" name="Estilo construção">

            <div class="form-check form-check-inline">
              <input class="form-check-input" type="radio" name="Estilo construção" value="Construido" id="Construido" placeholder="Construido" >
              <label class="form-check-label" for="Construido">Construído</label>
            </div>

            <div class="form-check form-check-inline">
              <input class="form-check-input" type="radio" name="Estilo construção" value="Especial" id="Especial" placeholder="Especial">
              <label class="form-check-label" for="Especial">Especial</label>
            </div>
          </div>
            
            <h3 style="margin-left: 5px;">Piso</h3>
            <div class="Adicionais" name="Adicionais">
              <div class="adicionas1">
                <div class="form-check">
                  <input class="form-check-input" type="radio" name="Adicionais" value="Piso Elevado" id="Piso_elevado" value="Piso Elevado" placeholder="Piso_elevado">
                  <label class="form-check-label" for="gridRadios1">Piso elevado</label>
                </div>

                <div class="form-check">
                  <input class="form-check-input" type="radio" name="Adicionais" value="Forração" id="Forracao" value="Forração" placeholder="Forracao">
                  <label class="form-check-label" for="gridRadios1">Forração</label>
                </div>

              <div id="modelo_piso_container" class="form-check" style="display: none;">
                  <input type="text" name="cor_forracao" id="cor_forracao" placeholder="Cor forração">
              </div>

              
              </div>
            

              <div class="adicionais2">
                <div class="form-check">
                  <input class="form-check-input" type="radio" name="Adicionais" value="Mdf" id="mdf" placeholder="mdf">
                  <label class="form-check-label" for="gridRadios1">Mdf</label>
                </div>

              <div id="cor_mdf_container" class="form-check" style="display: none;">
                  <input type="text" name="cor_mdf_input" id="cor_mdf_input" placeholder="Cor MDF">
              </div>

                <div class="form-check">
                  <input class="form-check-input" type="radio" name="Adicionais" id="Decorflex" value="Decorflex" placeholder="Decorflex">
                  <label class="form-check-label" for="gridRadios1">Decorflex</label>
                </div>

              </div>
            </div>
              
            <h3 style="margin-left: 5px;">Sala</h3>
            <div class="sala" name="sala">
              <div class="sala1">
                <div class="form-check form-check-inline">
                  <input class="form-check-input" type="radio" name="sala" id="Sala_VIP" value="Sala Vip" placeholder="Sala_VIP">
                  <label class="form-check-label" for="Sala_VIP">Sala VIP</label>
                </div>
        
                <div class="form-check form-check-inline">
                  <input class="form-check-input" type="radio" name="sala" id="Louge" value="Louge" placeholder="Louge">
                  <label class="form-check-label" for="Louge">Louge</label>
                </div>
        
                <div class="form-check form-check-inline">
                  <input class="form-check-input" type="radio" name="sala" id="Copa" value="Copa" placeholder="Copa" >
                  <label class="form-check-label" for="Copa">Copa</label>
                </div>
              </div>
        
              <div class="sala2">
                <div class="form-check form-check-inline">
                  <input class="form-check-input" type="radio" name="sala" id="Deposito" value="Depósito" placeholder="Deposito">
                  <label class="form-check-label" for="Deposito">Depósito</label>
                </div>

                <div class="form-check form-check-inline">
                  <input class="form-check-input" type="radio" name="sala" id="Bar" value="Bar" placeholder="Bar">
                  <label class="form-check-label" for="Bar">Bar</label>
                </div>
              </div>
            </div>
                
              <h3 style="margin-left: 5px;">Área de exposição</h3>
              <div class="exposicao" name="Área de exposição">
                <div class="exposicao1">
                  <div>
                  <div class="form-check form-check-inline"></div>
                  <input class="form-check-input" type="radio" name="Área de exposição" id="Vitrines" value="Vitrines" placeholder="Vitrines">
                  <label class="form-check-label" for="Vitrines">Vitrines</label>
                  </div>
        
                  <div>
                    <div class="form-check form-check-inline"></div>
                    <input class="form-check-input" type="radio" name="Área de exposição" id="Prateleiras" value="Prateleiras" placeholder="Prateleiras">
                    <label class="form-check-label" for="Prateleiras">Prateleiras</label>
                  </div>

                  <div>
                    <div class="form-check form-check-inline"></div>
                    <input class="form-check-input" type="radio" name="Área de exposição" id="Balcao" value="Balcão" placeholder="Balcao">
                    <label class="form-check-label" for="Balcao">Balcão</label>
                  </div>

                  <div>
                    <div class="form-check form-check-inline"></div>
                    <input class="form-check-input" type="radio" name="Área de exposição" id="Balcao_vitrine" value="Balcão Vitrine" placeholder="Balcao_vitrine">
                    <label class="form-check-label" for="Balcao_vitrine">Balcão Vitrine</label>
                  </div>

                </div>
                  
                <div class="exposicao2">
                  <div>
                    <div class="form-check form-check-inline"></div>
                    <input class="form-check-input" type="radio" name="Área de exposição" id="Display" value="Display" placeholder="Display">
                    <label class="form-check-label" for="Display">Display</label>
                  </div>
        
                  <div>
                    <div class="form-check form-check-inline"></div>
                    <input class="form-check-input" type="radio" name="Área de exposição" id="Bancada" value="Bancada" placeholder="Bancada">
                    <label class="form-check-label" for="Bancada">Bancada</label>
                  </div>

                  <div>
                    <div class="form-check form-check-inline"></div>
                    <input class="form-check-input" type="radio" name="Área de exposição" id="Nicho" value="Nicho" placeholder="Nicho">
                    <label class="form-check-label" for="Nicho">Nicho</label>
                  </div>
                </div>
              </div>

              <div class="form-group">
              <label for="Cores_empresa">Cores da empresa</label>
              <input type="text" id="Cores_empresa" name="Cores_empresa" style="margin-left: 5px;" placeholder="Cores predominantes da empresa">
              </div>

              <div class="form-group">
              <label for="produtos">Produtos em exposição</label>
              <input type="text" id="produtos" name="produtos" style="margin-left: 5px;" placeholder="produtos">
              </div>


                <!-- Mobiliário -->
                <button class="btn-mobiliario"  type="button" onclick="toggleLista()">Mobiliário</button>

                <div class="lista-mobiliario" id="listaMobiliario" name="listaMobiliario" style="display: none; height: 300px; overflow-y: auto;">
                    <label><input type="checkbox" name="listaMobiliario" value="Cadeira"> Cadeiras</label>
                    <label><input type="checkbox" name="listaMobiliario" value="Mesa Redonda"> Mesa redonda</label>
                    <label><input type="checkbox" name="listaMobiliario" value="Balcão Bar"> Balcão bar</label>
                    <label><input type="checkbox" name="listaMobiliario" value="Armário"> Armário</label>
                    <label><input type="checkbox" name="listaMobiliario" value="Mesa Bistro"> Mesa bistro</label>
                    <label><input type="checkbox" name="listaMobiliario" value="Ar condicionado"> Ar condicionado</label>
                    <label><input type="checkbox" name="listaMobiliario" value="Banquetas"> Banquetas</label>
                    <label><input type="checkbox" name="listaMobiliario" value="Mesa canto"> Mesa canto</label>
                    <label><input type="checkbox" name="listaMobiliario" value="Freezer"> Freezer</label>
                    <label><input type="checkbox" name="listaMobiliario" value="Geladeira"> Geladeira</label>
                    <label><input type="checkbox" name="listaMobiliario" value="Frigobar"> Frigobar</label>
                    <label><input type="checkbox" name="listaMobiliario" value="Lixeira"> Lixeira</label>
                    <label><input type="checkbox" name="listaMobiliario" value="Tv Plasma/lCD"> Tv Plasma/lcd</label>
                    <label><input type="checkbox" name="listaMobiliario" value="Video wall"> Video wall</label>
                    <label><input type="checkbox" name="listaMobiliario" value="Porta folhetos"> Porta folhetos</label>
                    <label><input type="checkbox" name="listaMobiliario" value="Sofá"> Sofá</label>
                </div>
                </div>
                
                <button type="button" class="btn-proximo" onclick="nextStep(1)">Voltar</button>
                <button type="button" class="btn-fechar" id="fecharBriefing2">Fechar</button>
                <button type="button" class="btn-enviar" id="salvarBriefing">Salvar Briefing</button>
            </div>
          </div>
        </form>
      </div>
    </div>
  </div>


  <script type="text/javascript">
    $(document).ready(function(){
      $('#telefone').mask('(00) 00000-0000'); // Celular
      $('#telefone_responsavel').mask('(00) 00000-0000'); // Celular do responsável
      $('#Contato').mask('(00) 00000-0000');
    });

    $(document).ready(function(){
    $('.money2').mask('000.000.000.000.000,00', {reverse: true});
  });

  $(document).ready(function(){
    $('#Email').on('blur', function(){
      var email = $(this).val();
      var regex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
      if(!regex.test(email)){
        alert("Por favor, insira um email válido!");
        $(this).focus();
      }
    });
  });
  </script>


  <script>

    let currentStep = 1;

    function showStep(step) {
        document.querySelectorAll('.step').forEach(div => div.style.display = 'none');
        document.getElementById(`step${step}`).style.display = 'block';
        currentStep = step;
    }

    function nextStep(step) {
        showStep(step);
    }

    function prevStep(step) {
        showStep(step);
    }

    document.getElementById("abrirBriefing").addEventListener("click", function() {
        document.getElementById("briefingForm").style.display = "block";
    });

    document.getElementById("fecharBriefing").addEventListener("click", function() {
        document.getElementById("briefingForm").style.display = "none";
    });

    document.getElementById("salvarBriefing").addEventListener("click", function() {
        document.getElementById("briefingForm").style.display = "none";
    });

    document.getElementById("fecharBriefing2").addEventListener("click", function() {
        document.getElementById("briefingForm").style.display = "none";
    });

  const radiosAdicionais = document.querySelectorAll('input[name="Adicionais"]');
  const forracaoContainer = document.getElementById("modelo_piso_container");
  const mdfContainer = document.getElementById("cor_mdf_container");

  radiosAdicionais.forEach(radio => {
    radio.addEventListener("change", function() {
      if (this.id === "Forracao") {
        forracaoContainer.style.display = "block";
      } else {
        forracaoContainer.style.display = "none";
      }

      if (this.id === "mdf") {
        mdfContainer.style.display = "block";
      } else {
        mdfContainer.style.display = "none";
      }
    });
  });




  function toggleLista() {
      const lista = document.getElementById("listaMobiliario");
      lista.style.display = window.getComputedStyle(lista).display === "none" ? "block" : "none";
  }



    </script>



      <script>
        const mensagemErro = "{{ mensagem_erro }}";  // Variável passada pelo Flask
        if (mensagemErro) {
          Swal.fire({
            title: 'Erro!',
            text: mensagemErro,
            icon: 'error',
            confirmButtonText: 'Tentar Novamente'
          });
        }
    
        const mensagemSucesso = "{{ mensagem_sucesso }}";  // Variável passada pelo Flask
        if (mensagemSucesso) {
          Swal.fire({
            title: 'Sucesso!',
            text: mensagemSucesso,
            icon: 'success',
            confirmButtonText: 'Ok'
          });
        }
      </script>
      
  </body>
</html>